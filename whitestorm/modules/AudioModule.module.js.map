{"version":3,"file":"AudioModule.module.js","sources":["../src/modules/extra/AudioModule.js"],"sourcesContent":["import {\n  PositionalAudio,\n  AudioListener,\n  AudioLoader\n} from 'three';\n\nexport default class PositionalAudioModule {\n  constructor(params = {}) {\n    this.params = Object.assign({\n      loop: true\n    }, params);\n\n    this.audioListener = new AudioListener();\n    this.audioLoader = new AudioLoader();\n\n    this.positionalAudio = new PositionalAudio(this.audioListener);\n    this.positionalAudio.setLoop(this.params.loop);\n  }\n\n  addListener(object) {\n    object.native.add(this.audioListener);\n  };\n\n  play(path) {\n    const sound = this.positionalAudio;\n\n    this.audioLoader.load(path, buffer => {\n      sound.setBuffer(buffer);\n      sound.setRefDistance(50);\n      sound.play();\n    });\n  };\n\n  bridge = {\n    mesh(mesh, self) {\n      mesh.add(self.positionalAudio);\n      return mesh;\n    }\n  }\n}\n"],"names":["PositionalAudioModule","params","bridge","mesh","self","add","positionalAudio","Object","assign","audioListener","AudioListener","audioLoader","AudioLoader","PositionalAudio","setLoop","loop","object","native","path","sound","load","setBuffer","buffer","setRefDistance","play"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;IAMqBA;mCACM;QAAbC,MAAa,uEAAJ,EAAI;;SA0BzBC,MA1ByB,GA0BhB;UAAA,gBACFC,KADE,EACIC,IADJ,EACU;cACVC,GAAL,CAASD,KAAKE,eAAd;eACOH,KAAP;;KA7BqB;;SAClBF,MAAL,GAAcM,OAAOC,MAAP,CAAc;YACpB;KADM,EAEXP,MAFW,CAAd;;SAIKQ,aAAL,GAAqB,IAAIC,aAAJ,EAArB;SACKC,WAAL,GAAmB,IAAIC,WAAJ,EAAnB;;SAEKN,eAAL,GAAuB,IAAIO,eAAJ,CAAoB,KAAKJ,aAAzB,CAAvB;SACKH,eAAL,CAAqBQ,OAArB,CAA6B,KAAKb,MAAL,CAAYc,IAAzC;;;;;gCAGUC,QAAQ;aACXC,MAAP,CAAcZ,GAAd,CAAkB,KAAKI,aAAvB;;;;yBAGGS,MAAM;UACHC,QAAQ,KAAKb,eAAnB;;WAEKK,WAAL,CAAiBS,IAAjB,CAAsBF,IAAtB,EAA4B,kBAAU;cAC9BG,SAAN,CAAgBC,MAAhB;cACMC,cAAN,CAAqB,EAArB;cACMC,IAAN;OAHF;;;;;;;;"}